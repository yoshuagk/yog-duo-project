[gd_scene load_steps=15 format=3 uid="uid://xl5ne75t3xql"]

[ext_resource type="Script" uid="uid://fa0xwmfpscgn" path="res://main_script.gd" id="1_6tvym"]
[ext_resource type="Texture2D" uid="uid://ju0qf5duln0c" path="res://Assets/Images/fox room.png" id="2_u41wg"]
[ext_resource type="MeshLibrary" uid="uid://vloknl86ugxf" path="res://Assets/tiles.tres" id="3_3hk22"]
[ext_resource type="Script" uid="uid://djpycqkhl3rqv" path="res://PlayerMovement.gd" id="4_yike3"]
[ext_resource type="Script" uid="uid://bd046eokvcnu2" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="5_4g8mk"]
[ext_resource type="Script" uid="uid://csjccrhj5wnx7" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3d.gd" id="6_qlokm"]
[ext_resource type="Script" uid="uid://8umksf8e80fw" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="7_gepjr"]
[ext_resource type="Script" uid="uid://cwpihwrqs0kd0" path="res://CameraBounds.gd" id="8_gyi2m"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_k0sap"]
albedo_texture = ExtResource("2_u41wg")

[sub_resource type="PlaneMesh" id="PlaneMesh_lbsk5"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_dbth4"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_yp33a"]

[sub_resource type="Resource" id="Resource_05xow"]
script = ExtResource("7_gepjr")

[sub_resource type="BoxShape3D" id="BoxShape3D_k2q23"]
size = Vector3(65.91831, 26.552296, 14.156685)

[node name="Fox Altar Area" type="Node3D"]
script = ExtResource("1_6tvym")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.9986405, 0.045143176, -0.026063448, -0.023115454, 0.8316643, 0.5547975, 0.046721354, -0.55344075, 0.8315771, 0, 13.097661, 22.127623)
shadow_enabled = true

[node name="Reference" type="Node3D" parent="."]
transform = Transform3D(8.48, 0, 0, 0, 8.48, 0, 0, 0, 8.48, 0, 0, -8.776103)

[node name="fox_area_reference" type="MeshInstance3D" parent="Reference"]
transform = Transform3D(2.223, 0, 0, 0, -5.25848e-08, -0.642, 0, 1.203, -2.8062711e-08, 0, 0.06342252, 1.0349178)
material_override = SubResource("StandardMaterial3D_k0sap")
mesh = SubResource("PlaneMesh_lbsk5")
skeleton = NodePath("../..")

[node name="Level Blocks" type="Node3D" parent="."]

[node name="GridMap" type="GridMap" parent="Level Blocks"]
mesh_library = ExtResource("3_3hk22")
cell_size = Vector3(1, 0.5, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(-458763, 0, 119, -458762, 0, 119, -458761, 0, 119, -131086, 0, 119, -131085, 0, 119, -131084, 0, 119, -19, 0, 129, -18, 0, 129, -17, 0, 129, 65519, 0, 129, -16, 0, 129, -15, 0, 129, 65521, 0, 129, 65520, 0, 129, 131056, 0, 129, 131055, 0, 129, 131054, 0, 129, 131053, 0, 129, 196589, 0, 129, 262125, 0, 129, 327661, 0, 129, 393197, 0, 129, 458733, 0, 129, 524269, 0, 129, 589805, 0, 129, 655341, 0, 129, 655342, 0, 129, 720878, 0, 129, 720877, 0, 129, 589806, 0, 129, 524270, 0, 129, 458734, 0, 129, 393198, 0, 129, 327662, 0, 129, 262126, 0, 129, 262127, 0, 129, 327663, 0, 129, 393199, 0, 129, 458735, 0, 129, 524271, 0, 129, 589807, 0, 129, 655343, 0, 129, 720879, 0, 129, 720880, 0, 129, 655344, 0, 129, 589808, 0, 129, 524272, 0, 129, 458736, 0, 129, 393200, 0, 129, 393201, 0, 129, 327665, 0, 129, 262129, 0, 129, 196593, 0, 129, 262128, 0, 129, 327664, 0, 129, 458737, 0, 129, 524273, 0, 129, 589809, 0, 129, 655345, 0, 129, 720881, 0, 129, 524274, 0, 129, 589810, 0, 129, 655346, 0, 129, 720882, 0, 129, 720883, 0, 129, 655347, 0, 129, 589811, 0, 129, 589812, 0, 129, 524275, 0, 129, 524276, 0, 129, 655348, 0, 129, 720884, 0, 129, 720885, 0, 129, 655349, 0, 129, 589813, 0, 129, 524277, 0, 129, 524278, 0, 129, 589814, 0, 129, 655350, 0, 129, 720886, 0, 129, 720887, 0, 129, 720888, 0, 129, 655352, 0, 129, 655351, 0, 129, 589815, 0, 129, 524279, 0, 129, 524280, 0, 129, 589816, 0, 129, 589817, 0, 129, 196596, 0, 129, 196597, 0, 129, 196598, 0, 129, 196599, 0, 129, 196600, 0, 129, 196601, 0, 129, 196602, 0, 129, -131078, 0, 129, -65542, 0, 129, -6, 0, 129, 65530, 0, 129, 131066, 0, 129, 131067, 0, 129, 65531, 0, 129, -5, 0, 129, -65541, 0, 129, -131077, 0, 129, -131076, 0, 129, -65540, 0, 129, -4, 0, 129, 65532, 0, 129, 131068, 0, 129, 196604, 0, 129, 262140, 0, 129, 262139, 0, 129, 393212, 0, 129, 393213, 0, 129, 393214, 0, 129, 393215, 0, 129, 327680, 0, 129, 327681, 0, 129, 327682, 0, 129, 327683, 0, 129, 327684, 0, 129, 327685, 0, 129, 327686, 0, 129, -589843, 0, 129, -589842, 0, 129, -589841, 0, 129, -589840, 0, 129, -589839, 0, 129, -589827, 0, 129, -589826, 0, 129, -589825, 0, 129, -458753, 0, 129, -327681, 0, 129, -196609, 0, 129, -65537, 0, 129, -1, 0, 129, 65535, 0, 129, 0, 0, 129, -65536, 0, 129, -131072, 0, 129, -196608, 0, 129, -262144, 0, 129, -327680, 0, 129, -393216, 0, 129, -458752, 0, 129, -524288, 0, 129, -589824, 0, 129, -655360, 0, 129, -655359, 0, 129, -589823, 0, 129, -524287, 0, 129, -524286, 0, 129, -524285, 0, 129, -524284, 0, 129, -458748, 0, 129, -458749, 0, 129, -458750, 0, 129, -458751, 0, 129, 65536, 0, 129, 131071, 0, 129, 65538, 0, 129, 65539, 0, 129, 65540, 0, 129, 65541, 0, 129, 65542, 0, 129, 6, 0, 129, -65530, 0, 129, -65531, 0, 129, -131067, 0, 129, -131066, 0, 129, -196602, 0, 129, -655358, 0, 129, -655357, 0, 129, -655356, 0, 129, -655355, 0, 129, -589819, 0, 129, -589818, 0, 129, -655354, 0, 129, -655353, 0, 129, -655352, 0, 129, -589816, 0, 129, -655351, 0, 129, -655350, 0, 129, -655349, 0, 129, -655348, 0, 129, -589812, 0, 129, -589811, 0, 129, -589813, 0, 129, -589814, 0, 129, -589815, 0, 129, -589817, 0, 129, -655347, 0, 129, -655346, 0, 129, -589810, 0, 129, -524274, 0, 129, -589809, 0, 129, -655345, 0, 129, -655344, 0, 129, -589808, 0, 129, -589807, 0, 129, -524272, 0, 129, -524273, 0, 129, -655343, 0, 129, -655342, 0, 129, -524275, 0, 129, -458739, 0, 129, -393203, 0, 129, -327667, 0, 129, -262131, 0, 129, -196595, 0, 129, -131059, 0, 129, -65523, 0, 129, 13, 0, 129, 65549, 0, 129, 131085, 0, 129, 196621, 0, 129, 262157, 0, 129, 262156, 0, 129, 262155, 0, 129, 262151, 0, 129, 262152, 0, 129, 196614, 0, 129, 196613, 0, 129, -589806, 0, 129, -524270, 0, 129, -458734, 0, 129, -393198, 0, 129, -327662, 0, 129, -262126, 0, 129, -196590, 0, 129, 65554, 0, 129, 131090, 0, 129, 196626, 0, 129, 18, 0, 129, -65518, 0, 129, -131054, 0, 129, -393199, 0, 129, -458735, 0, 129, -524271, 0, 129, -327663, 0, 129, -262127, 0, 129, -196591, 0, 129, -131055, 0, 129, -65519, 0, 129, 17, 0, 129, 65553, 0, 129, 131089, 0, 129, 196625, 0, 129, 262161, 0, 129, 327697, 0, 129, 393233, 0, 129, 458769, 0, 129, 458770, 0, 129, 524306, 0, 129, 393234, 0, 129, 327698, 0, 129, 589842, 0, 129, 655378, 0, 129, 655377, 0, 129, 589841, 0, 129, 720889, 0, 129, 720890, 0, 129, 655354, 0, 129, 720891, 0, 129, 720892, 0, 129, 720893, 0, 129, 720894, 0, 129, 655360, 0, 129, 655361, 0, 129, 655362, 0, 129, 655363, 0, 129, 655364, 0, 129, 655365, 0, 129, 655366, 0, 129, 655367, 0, 129, 655368, 0, 129, 655369, 0, 129, 655375, 0, 129, 655376, 0, 129, 655374, 0, 129, 655373, 0, 129, 655372, 0, 129, 720895, 0, 129, 655371, 0, 129, 655370, 0, 129, 393229, 0, 1442001, 458765, 0, 1442001, 524301, 0, 1442001, 589837, 0, 1442001, -65535, 0, 1441913, -65534, 0, 1441913, -196606, 0, 1441913, -196605, 0, 1441913, -196604, 0, 1441913, -196603, 0, 1441911, -589838, 0, 1441913, -589837, 0, 1441913, -589836, 0, 1441913, -589835, 0, 1441913, -589834, 0, 1441913, -589833, 0, 1441913, -589832, 0, 1441913, -589831, 0, 1441913, -589830, 0, 1441913, -589829, 0, 1441913, -589828, 0, 1441913)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Player" type="CharacterBody3D" parent="." groups=["player"]]
transform = Transform3D(0.705, 0, 0, 0, 0.705, 0, 0, 0, 0.705, -16.601479, -2.9062128, 0.48921752)
script = ExtResource("4_yike3")
jump_height = 7.0
gravity = 45.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player"]
mesh = SubResource("CapsuleMesh_dbth4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("CapsuleShape3D_yp33a")

[node name="Camera Related" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 42.807632)

[node name="Camera3D" type="Camera3D" parent="Camera Related"]
physics_interpolation_mode = 1
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.601479, -2.9062128, -32.318413)
projection = 1
size = 12.617071

[node name="PhantomCameraHost" type="Node" parent="Camera Related/Camera3D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("5_4g8mk")
metadata/_custom_type_script = "uid://bd046eokvcnu2"

[node name="PhantomCamera3D" type="Node3D" parent="Camera Related" node_paths=PackedStringArray("follow_target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.601479, -2.9062128, 10.489218)
top_level = true
script = ExtResource("6_qlokm")
priority = 1
follow_mode = 5
follow_target = NodePath("../../Player")
tween_resource = SubResource("Resource_05xow")
inactive_update_mode = 1
follow_damping = true
follow_damping_value = Vector3(0.2, 0.2, 0)
follow_distance = 10.0
dead_zone_width = 0.15
dead_zone_height = 0.5
show_viewfinder_in_play = true
spring_length = 10.0
metadata/_custom_type_script = "uid://csjccrhj5wnx7"

[node name="CameraConfiner" type="Area3D" parent="Camera Related" node_paths=PackedStringArray("phantom_camera", "camera3d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.1007304, -37.076523)
script = ExtResource("8_gyi2m")
phantom_camera = NodePath("../PhantomCamera3D")
camera3d = NodePath("../Camera3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Camera Related/CameraConfiner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.107258, 11.429663, -3.4389915)
shape = SubResource("BoxShape3D_k2q23")
